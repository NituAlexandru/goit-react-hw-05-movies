{"version":3,"file":"static/js/305.c40359fc.chunk.js","mappings":"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","sources":["components/API/ApiService.jsx","components/API/ApiKey.jsx","webpack://goit-react-hw-05-movies/./src/components/Pages/MovieDetails.module.css?a892","components/Pages/MovieDetails.jsx"],"sourcesContent":["import { API_KEY, API_BASE_URL } from './ApiKey';\nimport axios from 'axios';\n\naxios.defaults.baseURL = API_BASE_URL;\n\nconst params = {\n  params: {\n    api_key: API_KEY,\n    language: 'en-US',\n  },\n};\n\nexport const fetchTrendingMovies = async () => {\n  try {\n    const response = await axios.get(`trending/movie/day`, params);\n    return response.data.results;\n  } catch (error) {\n    console.error('Error fetching trending movies:', error);\n    throw error;\n  }\n};\n\nexport const handleSearch = async movieName => {\n  try {\n    const response = await axios.get(\n      `/search/movie?query=${movieName}`,\n      params\n    );\n    return response.data.results;\n  } catch (error) {\n    console.error(`Error searching for \"${movieName}\":`, error);\n    throw error;\n  }\n};\n\nexport const fetchMovieDetails = async movieId => {\n  try {\n    const response = await axios.get(`/movie/${movieId}`, params);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching movie details:', error);\n    throw error;\n  }\n};\n\nexport const fetchMovieCast = async movieId => {\n  try {\n    const response = await axios.get(`movie/${movieId}/credits?`, params);\n    return response.data.cast;\n  } catch (error) {\n    console.error('Error fetching movie cast:', error);\n    throw error;\n  }\n};\n\nexport const fetchMovieReviews = async movieId => {\n  try {\n    const response = await axios.get(`movie/${movieId}/reviews?`, params);\n    return response.data.results;\n  } catch (error) {\n    console.error('Error fetching movie reviews:', error);\n    throw error;\n  }\n};\n","export const API_KEY = '08adfe7b0fa20f77490ccc776050efbc';\nexport const API_BASE_URL = 'https://api.themoviedb.org/3';","// extracted by mini-css-extract-plugin\nexport default {\"movieDetails\":\"MovieDetails_movieDetails__r0JTz\",\"details\":\"MovieDetails_details__Xvtos\",\"poster\":\"MovieDetails_poster__Pc0-9\",\"additionalInformation\":\"MovieDetails_additionalInformation__XRvJL\",\"additional\":\"MovieDetails_additional__7rHiD\",\"goBackLink\":\"MovieDetails_goBackLink__2G8m5\"};","// MovieDetails.jsx\nimport React, { useState, useEffect } from 'react';\nimport {\n  Link,\n  Navigate,\n  Outlet,\n  useLocation,\n  useParams,\n} from 'react-router-dom';\nimport { fetchMovieDetails } from '../API/ApiService';\nimport styles from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [redirectToHome, setRedirectToHome] = useState(false);\n  const { movieId } = useParams();\n  const location = useLocation(); // Accesează locația curentă\n\n  useEffect(() => {\n    if (!/^\\d+$/.test(movieId)) {\n      setRedirectToHome(true);\n      return;\n    }\n\n    const fetchDetails = async () => {\n      try {\n        const details = await fetchMovieDetails(movieId);\n        setMovieDetails(details);\n      } catch (error) {\n        console.error('Error fetching movie details:', error);\n      }\n    };\n\n    fetchDetails();\n  }, [movieId]);\n\n  if (redirectToHome) {\n    return <Navigate replace to=\"/\" />;\n  }\n\n  if (!movieDetails) {\n    return <div>Loading...</div>;\n  }\n  const posterURL = `https://image.tmdb.org/t/p/w500${movieDetails.poster_path}`;\n  const genres = movieDetails.genres.map(genre => genre.name).join(', ');\n\n  return (\n    <div className={styles.movieDetails}>\n      <Link\n        to={\n          location.state?.from === '/movies'\n            ? `/movies${\n                location.state.search ? `?query=${location.state.search}` : ''\n              }`\n            : '/'\n        }\n        className={styles.goBackLink}\n      >\n        &larr; Go back\n      </Link>\n      <div className={styles.details}>\n        <img\n          src={posterURL}\n          alt={`Poster for ${movieDetails.title}`}\n          className={styles.poster}\n        />\n        <div>\n          <h1>\n            {movieDetails.title} (\n            {new Date(movieDetails.release_date).getFullYear()})\n          </h1>\n          <p>User Score: {Math.round(movieDetails.vote_average * 10)}%</p>\n          <h3>Overview</h3>\n          <p>{movieDetails.overview}</p>\n          <h3>Genres</h3>\n          <p>{genres}</p>\n        </div>\n      </div>\n      <div className={styles.additionalInformation}>\n        <h2>Additional information</h2>\n        <ul>\n          <li className={styles.additional}>\n            <Link to=\"cast\" state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li className={styles.additional}>\n            <Link to=\"reviews\" state={location.state}>\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </div>\n      <Outlet />\n    </div>\n  );\n};\n\nexport default MovieDetails;\n"],"names":["axios","params","api_key","language","fetchTrendingMovies","async","data","results","error","console","handleSearch","concat","movieName","fetchMovieDetails","movieId","fetchMovieCast","cast","fetchMovieReviews","MovieDetails","_location$state","movieDetails","setMovieDetails","useState","redirectToHome","setRedirectToHome","useParams","location","useLocation","useEffect","test","details","fetchDetails","_jsx","Navigate","replace","to","children","posterURL","poster_path","genres","map","genre","name","join","_jsxs","className","styles","Link","state","from","search","src","alt","title","Date","release_date","getFullYear","Math","round","vote_average","overview","Outlet"],"sourceRoot":""}