"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[305],{490:(e,t,r)=>{r.d(t,{uV:()=>n,Y5:()=>o,Hx:()=>l,wr:()=>i,o1:()=>c});var a=r(294);a.Z.defaults.baseURL="https://api.themoviedb.org/3";const s={params:{api_key:"08adfe7b0fa20f77490ccc776050efbc",language:"en-US"}},i=async()=>{try{return(await a.Z.get("trending/movie/day",s)).data.results}catch(e){throw console.error("Error fetching trending movies:",e),e}},c=async e=>{try{return(await a.Z.get("/search/movie?query=".concat(e),s)).data.results}catch(t){throw console.error('Error searching for "'.concat(e,'":'),t),t}},o=async e=>{try{return(await a.Z.get("/movie/".concat(e),s)).data}catch(t){throw console.error("Error fetching movie details:",t),t}},n=async e=>{try{return(await a.Z.get("movie/".concat(e,"/credits?"),s)).data.cast}catch(t){throw console.error("Error fetching movie cast:",t),t}},l=async e=>{try{return(await a.Z.get("movie/".concat(e,"/reviews?"),s)).data.results}catch(t){throw console.error("Error fetching movie reviews:",t),t}}},305:(e,t,r)=>{r.r(t),r.d(t,{default:()=>u});var a=r(791),s=r(689),i=r(87),c=r(490);const o="MovieDetails_movieDetails__r0JTz",n="MovieDetails_details__Xvtos",l="MovieDetails_poster__Pc0-9",d="MovieDetails_additionalInformation__XRvJL",h="MovieDetails_additional__7rHiD",v="MovieDetails_goBackLink__2G8m5";var m=r(184);const u=()=>{var e;const[t,r]=(0,a.useState)(null),[u,_]=(0,a.useState)(!1),{movieId:g}=(0,s.UO)(),w=(0,s.TH)();if((0,a.useEffect)((()=>{if(!/^\d+$/.test(g))return void _(!0);(async()=>{try{const e=await(0,c.Y5)(g);r(e)}catch(e){console.error("Error fetching movie details:",e)}})()}),[g]),u)return(0,m.jsx)(s.Fg,{replace:!0,to:"/"});if(!t)return(0,m.jsx)("div",{children:"Loading..."});const f="https://image.tmdb.org/t/p/w500".concat(t.poster_path),j=t.genres.map((e=>e.name)).join(", ");return(0,m.jsxs)("div",{className:o,children:[(0,m.jsx)(i.rU,{to:"/movies"===(null===(e=w.state)||void 0===e?void 0:e.from)?"/movies".concat(w.state.search?"?query=".concat(w.state.search):""):"/",className:v,children:"\u2190 Go back"}),(0,m.jsxs)("div",{className:n,children:[(0,m.jsx)("img",{src:f,alt:"Poster for ".concat(t.title),className:l}),(0,m.jsxs)("div",{children:[(0,m.jsxs)("h1",{children:[t.title," (",new Date(t.release_date).getFullYear(),")"]}),(0,m.jsxs)("p",{children:["User Score: ",Math.round(10*t.vote_average),"%"]}),(0,m.jsx)("h3",{children:"Overview"}),(0,m.jsx)("p",{children:t.overview}),(0,m.jsx)("h3",{children:"Genres"}),(0,m.jsx)("p",{children:j})]})]}),(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)("h2",{children:"Additional information"}),(0,m.jsxs)("ul",{children:[(0,m.jsx)("li",{className:h,children:(0,m.jsx)(i.rU,{to:"cast",state:w.state,children:"Cast"})}),(0,m.jsx)("li",{className:h,children:(0,m.jsx)(i.rU,{to:"reviews",state:w.state,children:"Reviews"})})]})]}),(0,m.jsx)(s.j3,{})]})}}}]);
//# sourceMappingURL=305.c40359fc.chunk.js.map